<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="getQuotes()">test</button>
    <h3>hallo</h3>
    <!-- </select> -->

    <section class="hero" id="hero">
      <span class="page-title">
        <h1>Notes Book</h1>
      </span>

      <div id="quote-container">
        <h2>From small beginnings come great things.</h2>
        <p># General-Anonymous</p>
        <button id="next-btn">Next Quotes</button>
        <button id="send-btn">Send to X</button>
      </div>
      <picture>
        <source media="(min-width: 2600px)" srcset="/public/city/city-1.png" />
        <source media="(min-width: 2400px)" srcset="/public/city/city-5.png" />
        <source media="(min-width: 2200px)" srcset="/public/city/city-4.png" />
        <source media="(min-width: 2000px)" srcset="/public/city/city-3.png" />
        <source media="(min-width: 1800px)" srcset="/public/city/city-2.png" />

        <source media="(min-width: 1600px)" srcset="/public/city/city-1.png" />
        <source media="(min-width: 1200px)" srcset="/public/city/city-5.png" />
        <source media="(min-width: 1000px)" srcset="/public/city/city-4.png" />
        <source media="(min-width: 800px)" srcset="/public/city/city-3.png" />
        <source media="(min-width: 600px)" srcset="/public/city/city-2.png" />
        <img src="/public/city/city-1.png" alt="" width="auto" />
      </picture>
    </section>

    <!-- <script type="text/javascript">
      class QuotesParser {
        constructor() {
          this.quotes = new Array();
          this.fetcher = new XMLHttpRequest();
          this.lastIndex =
            +localStorage.getItem("quotes-index") === undefined
              ? 0
              : localStorage.getItem("quotes-index") > 8621 || 0;
          this.data = [];
          this.fetcher.addEventListener("load", () => {
            const parserQuotes = JSON.parse(this.fetcher.responseText);
            this.data = Array.from(parserQuotes.slice(this.lastIndex));

            console.log("loade", this.lastIndex);
          });
          this.fetcher.open("GET", "/public/data/quote.json");
          this.fetcher.send();
        }

        iterateQuotes() {
          let { data, lastIndex } = this;
          let end = 10,
            start = 0;
          return {
            [Symbol.iterator]() {
              return this;
            },
            next() {
              if (start === end) {
                localStorage.setItem("quotes-index", (lastIndex += 10));
                start = 0;
              }
              return {
                value: data[start++],
                done: false,
              };
            },
          };
        }
      }

      class QuoteApi {
        static qParser = new QuotesParser();
        static *generateQuotes() {
          for (let n of QuoteApi.qParser.iterateQuotes()) {
            yield n;
          }
        }
        static initGQuotes = QuoteApi.generateQuotes();
        static getQuote() {
          const data = QuoteApi.initGQuotes.next();
          console.log(data);
          if (!data.value && data.done) return null;
          if (!data.value) return QuoteApi.getQuote();
          else if (data.done) return null;
          return data.value;
        }
      }
      const newTest = QuoteApi.getQuote;
      const test = new QuotesParser();
    </script> -->
    <script type="module"></script>
  </body>
</html>
